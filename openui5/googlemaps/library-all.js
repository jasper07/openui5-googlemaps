sap.ui.define("openui5/googlemaps/Animation",["jquery.sap.global"],function(){"use strict";var e={BOUNCE:1,DROP:2,k:3,j:4};return e},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils","./MapTypeId"],function(t,e,i,o,s){"use strict";var a=e.extend("openui5.googlemaps.Map",{metadata:{properties:{lat:{type:"float",bindable:"bindable",defaultValue:1},lng:{type:"float",bindable:"bindable",defaultValue:1},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"20em"},zoom:{type:"int",defaultValue:8},disableDefaultUI:{type:"boolean",defaultValue:!0},mapTypeId:{type:"string",defaultValue:s.ROADMAP},panControl:{type:"boolean",defaultValue:!1},zoomControl:{type:"boolean",defaultValue:!1},mapTypeControl:{type:"boolean",defaultValue:!1},streetViewControl:{type:"boolean",defaultValue:!1}},defaultAggregation:"markers",aggregations:{markers:{type:"openui5.googlemaps.Marker",multiple:!0,bindable:"bindable"},polylines:{type:"openui5.googlemaps.Polyline",multiple:!0,bindable:"bindable"},polygons:{type:"openui5.googlemaps.Polygon",multiple:!0,bindable:"bindable"}},events:{ready:{}}},renderer:function(t,e){t.write("<div "),t.writeControlData(e),t.addStyle("width","auto"),t.addStyle("height","auto"),t.writeClasses(),t.writeStyles(),t.write(">"),t.renderControl(e._html),t.write("</div>")}});return a.prototype.init=function(){this._dragging=!1,this.aListeners=[],this.mapId=this.getId()+"-map",this._html=new sap.ui.core.HTML({content:"<div style='height: "+this.getHeight()+";width: "+this.getWidth()+";' id='"+this.mapId+"'></div>"})},a.prototype.setHeight=function(e){this.setProperty("height",e,!0);var i=t(this._html.getContent()).css("height",this.getHeight());this._html.setContent(i.outerHTML())},a.prototype.setWidth=function(e){this.setProperty("width",e,!0);var i=t(this._html.getContent()).css("width",this.getWidth());this._html.setContent(i.outerHTML())},a.prototype.setZoom=function(t){this.setProperty("zoom",t,!0),this.map&&t!==this.map.getZoom()&&this.map.setZoom(t)},a.prototype.setLat=function(t){var e=parseFloat(t);o.floatEqual(e,this.getLat())||(this.setProperty("lat",parseFloat(t),!0),this._updateCenter())},a.prototype.setLng=function(t){var e=parseFloat(t);o.floatEqual(e,this.getLng())||(this.setProperty("lng",e,!0),this._updateCenter())},a.prototype._updateCenter=function(){this.map&&null!=this.getLat()&&null!=this.getLng()&&(t.sap.clearDelayedCall(this.delayedCallId),this.delayedCallId=t.sap.delayedCall(0,this,function(){this.map.setCenter(new i.LatLng(this.getLat(),this.getLng())),this.notifyAggregations("MapRendered")}))},a.prototype.setMapTypeId=function(t){this.setProperty("mapTypeId",t,!0),this.map&&t!==this.map.getMapTypeId()&&this.map.setMapTypeId(t)},a.prototype.setZoomControl=function(t){this.setProperty("zoomControl",t,!0),this.map&&t!==this.map.getZoomControl()&&this.map.setZoomControl(t)},a.prototype.setDisableDefaultUi=function(t){this.setProperty("disableDefaultUi",t,!0),this.map&&this.map.setOptions({disableDefaultUI:this.disableDefaultUI})},a.prototype._getMapOptions=function(){var t={};return t.zoom=this.getZoom(),t.center=new i.LatLng(this.getLat(),this.getLng()),t.disableDefaultUi=this.getDisableDefaultUI(),t.mapTypeId=this.getMapTypeId(),t.panControl=this.getPanControl(),t.zoomControl=this.getZoomControl(),t.mapTypeControl=this.getMapTypeControl(),t.streetViewControl=this.getStreetViewControl(),t},a.prototype.notifyAggregations=function(t){this._notifyMarkers(t,this.map),this._notifyPolylines(t,this.map),this._notifyPolygons(t,this.map)},a.prototype.onBeforeRendering=function(){this.notifyAggregations("Reset")},a.prototype.onAfterRendering=function(){return void 0===i.loaded?(void 0===this.subscribed&&(sap.ui.getCore().getEventBus().subscribe(i.notifyEvent,this.createMap,this),this.subscribed=!0),!1):void(this.initialized?this._updateCenter():this.createMap())},a.prototype.zoomChanged=function(){this.map.getZoom()!==this.getZoom()&&this.setZoom(this.map.getZoom())},a.prototype.mapTypeIdChanged=function(){this.map.getMapTypeId()!==this.getMapTypeId()&&this.setMapTypeId(this.map.getMapTypeId())},a.prototype.createMap=function(){this.getLat()&&this.getLng()&&(this.map=new i.Map(t.sap.domById(this.mapId),this._getMapOptions()),this.notifyAggregations("MapRendered"),this.addListener("drag",t.proxy(this.isDragging,this)),this.addListener("dragstart",t.proxy(this.isDragging,this)),this.addListener("zoom_changed",t.proxy(this.zoomChanged,this)),this.addListener("center_changed",t.proxy(this.updateValues,this)),this.addListener("idle",t.proxy(this.mapChanged,this)),this.addListener("maptypeid_changed",t.proxy(this.mapTypeIdChanged,this)),this.addListener("resize",t.proxy(this.updateValues,this)),this.initialized=!0)},a.prototype.addListener=function(t,e){this.aListeners.push(i.event.addListener(this.map,t,e))},a.prototype.removeListeners=function(){this.aListeners.forEach(function(t){t.remove()}),this.aListeners=[]},a.prototype.trigger=function(t){i.event.trigger(this.map,t)},a.prototype.isDragging=function(){this._dragging=!0},a.prototype.isNotDragging=function(){this._dragging=!1},a.prototype.mapChanged=function(){this._dragging&&this.isNotDragging(),this.updateValues(),this.fireReady({map:this.map,context:this.getBindingContext(),lat:this.getLat(),lng:this.getLng()})},a.prototype.updateValues=function(){var t=o.latLngToObj(this.map.getCenter());o.floatEqual(t.lat,this.getLat())||this.setProperty("lat",t.lat,!0),o.floatEqual(t.lng,this.getLng())||this.setProperty("lng",t.lng,!0)},a.prototype.getMarkers=function(){return this.getAggregation("markers",[])},a.prototype._notifyMarkers=function(t,e){this.getMarkers().forEach(function(i){i["on"+t](e)})},a.prototype.getPolylines=function(){return this.getAggregation("polylines",[])},a.prototype._notifyPolylines=function(t,e){this.getPolylines().forEach(function(i){i["on"+t](e)})},a.prototype.getPolygons=function(){return this.getAggregation("polygons",[])},a.prototype._notifyPolygons=function(t,e){this.getPolygons().forEach(function(i){i["on"+t](e)})},a.prototype.resetMap=function(){this.removeListeners(),this.map&&this.map.set(null)},a.prototype.exit=function(){this.resetMap(),this.init()},a},!0);
sap.ui.define("openui5/googlemaps/MapTypeId",["jquery.sap.global"],function(){"use strict";var e={ROADMAP:"roadmap",SATELLITE:"satellite",HYBRID:"hybrid",TERRAIN:"terrain"};return e},!0);
sap.ui.define(["jquery.sap.global","google.maps"],function(n,t){"use strict";var o={};return o.objToLatLng=function(n){return new t.LatLng(n.lat,n.lng)},o.latLngToObj=function(n){return{lat:n.lat(),lng:n.lng()}},o.floatEqual=function(n,t){return Math.abs(n-t)<1e-6},o.latLngEqual=function(n,t){return this.floatEqual(n.lat,t.lat)&&this.floatEqual(n.lng,t.lng)},o.search=function(n,o){return(new t.Geocoder).geocode(n,o)},o.currentPosition=function(t){var o={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},a=function(n){var o={};o.lat=n.coords.latitude,o.lng=n.coords.longitude,t(o)},e=function(t){n.sap.log.info("ERROR("+t.code+"): "+t.message)};navigator.geolocation&&navigator.geolocation.getCurrentPosition(a,e,o)},o},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./Animation"],function(t,i,e,n){"use strict";var o=i.extend("openui5.googlemaps.Marker",{metadata:{properties:{lat:{type:"float",bindable:"bindable"},lng:{type:"float",bindable:"bindable"},draggable:{type:"boolean",bindable:"bindable",defaultValue:!1},info:{type:"string",bindable:"bindable"},icon:{type:"sap.ui.core.URI",bindable:"bindable"},animation:{type:"int",bindable:"bindable",defaultValue:n.DROP}},events:{click:{},dragEnd:{},infoWindowClose:{}},renderer:{}}});return o.prototype.init=function(){this._dragging=!1,this.aListeners=[],this.iwMaxWidth=360},o.prototype.updatePosition=function(){this.marker&&null!==this.getLat()&&null!==this.getLng()&&(t.sap.clearDelayedCall(this.delayedCallId),this.delayedCallId=t.sap.delayedCall(100,this,function(){this.marker.setPosition(new e.LatLng(this.getLat(),this.getLng()))}))},o.prototype.setLat=function(t){this.setProperty("lat",parseFloat(t),!0),this.updatePosition()},o.prototype.setLng=function(t){this.setProperty("lng",parseFloat(t),!0),this.updatePosition()},o.prototype.setICon=function(){this.marker&&this.marker.setIcon(this.getIcon())},o.prototype.mapReady=function(){this.marker&&this.reset(),this.marker=new e.Marker(this.getOptions()),this.marker.setMap(this.map),this.addListener("click",t.proxy(this.onClick,this)),this.getDraggable()&&this.addListener("dragend",t.proxy(this.onDragEnd,this)),this.infoWindow=void 0,this.getInfo()&&(this.infoWindow=new e.InfoWindow({content:this.getInfo(),maxWidth:this.iwMaxWidth}),this.aListeners.push(e.event.addListener(this.infoWindow,"closeclick",t.proxy(this.onInfoWindowClose,this))))},o.prototype.getOptions=function(){var t={};return t.position=new e.LatLng(this.getLat(),this.getLng()),t.draggable=this.getDraggable(),t.animation=this.getAnimation(),t.icon=this.getIcon(),t},o.prototype.onMapRendered=function(t){this.map=t,this.mapReady()},o.prototype.addListener=function(t,i){this.aListeners.push(e.event.addListener(this.marker,t,i))},o.prototype.removeListeners=function(){this.aListeners.forEach(function(t){t.remove()}),this.aListeners=[]},o.prototype.infoWindowOpen=function(i){this.infoWindow.open(this.map,this.marker),i&&t.sap.delayedCall(2e3,this,function(){this.infoWindowclose()})},o.prototype.infoWindowClose=function(){this.infoWindow.close()},o.prototype.onClick=function(){this.infoWindow&&this.infoWindowOpen(),this.fireClick({map:this.map,marker:this.marker,context:this.getBindingContext(),location:{lat:this.getLat(),lng:this.getLng()}})},o.prototype.onDragEnd=function(){var t=this.marker.getPosition();this.setLat(t.lat()),this.setLng(t.lng()),this.fireDragEnd({position:t})},o.prototype.onInfoWindowClose=function(){this.fireInfoWindowClose({})},o.prototype.reset=function(){this.marker&&(this.removeListeners(),this.marker.setMap(null))},o.prototype.onReset=function(){this.reset()},o.prototype.exit=function(){this.reset()},o},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils"],function(t,e,o,i){"use strict";var a=e.extend("openui5.googlemaps.Polygon",{metadata:{properties:{strokeColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},strokeOpacity:{type:"float",bindable:"bindable"},strokeWeight:{type:"float",bindable:"bindable"},fillColor:{type:"string",bindable:"bindable"},fillOpacity:{type:"float",bindable:"bindable"},paths:{type:"object"},draggable:{type:"boolean"}},renderer:{}}});return a.prototype.parsePaths=function(){var t=[];return this.getPaths().forEach(function(e){t.push(i.objToLatLng(e))}),t},a.prototype.createPolygon=function(){this.polygon||(this.polygon=new o.Polygon(this.getOptions())),this.polygon.setMap(this.map)},a.prototype.getOptions=function(){var t={};return t.paths=this.parsePaths(),t.strokeColor=this.getStrokeColor(),t.strokeOpacity=this.getStrokeOpacity(),t.strokeWeight=this.getStrokeWeight(),t.fillOpacity=this.getFillOpacity(),t.fillColor=this.getFillColor(),t.draggable=this.getDraggable(),t},a.prototype.onMapRendered=function(t){this.map=t,this.createPolygon()},a.prototype.onReset=function(){this.reset()},a.prototype.reset=function(){this.polygon&&this.polygon.setMap(null)},a.prototype.exit=function(){this.reset()},a},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control","google.maps","./MapUtils"],function(t,e,o,i){"use strict";var p=e.extend("openui5.googlemaps.Polyline",{metadata:{properties:{strokeColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null},strokeOpacity:{type:"float"},strokeWeight:{type:"float"},icons:{type:"object"},path:{type:"object"},draggable:{type:"boolean"}},renderer:{}}});return p.prototype.parsePath=function(){var t=[];return this.getPath().forEach(function(e){t.push(i.objToLatLng(e))}),t},p.prototype.createPolyline=function(){this.polyline||(this.polyline=new o.Polyline(this.getOptions())),this.polyline.setMap(this.map)},p.prototype.getOptions=function(){var t={};return t.path=this.parsePath(),t.strokeColor=this.getStrokeColor(),t.strokeOpacity=this.getStrokeOpacity(),t.strokeWeight=this.getStrokeWeight(),t.draggable=this.getDraggable(),t.icons=this.getIcons(),t},p.prototype.onMapRendered=function(t){this.map=t,this.createPolyline()},p.prototype.onReset=function(){this.reset()},p.prototype.reset=function(){this.polyline&&this.polyline.setMap(null)},p.prototype.exit=function(){this.reset()},p},!0);
sap.ui.define(["jquery.sap.global"],function(){"use strict";var t={};return t.setApiKey=function(t){this.apiKey=t},t.getApiKey=function(){return this.apiKey},t.setUrl=function(t){this.baseUrl=t},t.getUrl=function(){return this.baseUrl},t},!0);
sap.ui.define(["jquery.sap.global","sap/ui/core/Core","sap/ui/core/library"],function(e){"use strict";return function(){var o=e.sap.getResourcePath("openui5/googlemaps/loadScripts");e.sap.registerResourcePath("google.maps",o),e.sap.require("openui5.googlemaps.ScriptsUtil"),sap.ui.getCore().initLibrary({name:"openui5.googlemaps",dependencies:["sap.ui.core"],types:["openui5.googlemaps.MapTypeId","openui5.googlemaps.Animation"],interfaces:[],controls:["openui5.googlemaps.Map","openui5.googlemaps.Marker","openui5.googlemaps.Polyline","openui5.googlemaps.Polygon"],elements:[],version:"0.0.0"})}(),!0},!0);
sap.ui.define(["jquery.sap.global","openui5/googlemaps/ScriptsUtil"],function(e,l){"use strict";var t=function(){var l={};return l.defaultUrl="http://maps.google.com/maps/api/js?sensor=true&callback=google.maps.callBack",l.notifyEvent="google.maps.loaded",l.callBack=function(){this.loaded=!0,sap.ui.getCore().getEventBus().publish(this.notifyEvent)},l.load=function(l){var t=l.getUrl()?l.getUrl():this.defaultUrl;l.getApiKey()&&(t=t+"&key="+l.getApiKey()),e.sap.includeScript(t,"google.maps",null,null)},l}();return t.load(l),t},!0);